<form [formGroup]="filtroForm" (ngSubmit)="buscarAsistencias()">
  <select formControlName="docente">
  <option value="">Seleccione un docente</option>
  <option *ngFor="let d of docentes" [value]="d">{{ d }}</option>
</select>
<select formControlName="grupo">
  <option value="">Seleccione un grupo</option>
  <option value="6Â°">6Â°</option>
  <option value="7Â°">7Â°</option>
  <option value="8Â°">8Â°</option>
  <option value="9Â°">9Â°</option>
  <option value="10Â°">10Â°</option>
  <option value="11Â°">11Â°</option>
  <!-- Agrega los que uses -->
</select>
  <input type="date" formControlName="fechaInicio" />
  <input type="date" formControlName="fechaFin" />
  <button type="submit">Buscar</button>
</form>

<hr>

<div *ngIf="estudiantes.length">
  <button (click)="generarPDF()">ðŸ“„ Descargar PDF</button>
  <button (click)="exportarExcel()">ðŸ“¥ Descargar Excel</button>

  <table border="1">
    <thead>
      <tr>
        <th>Estudiante</th>
        <th *ngFor="let f of fechas">{{ f }}</th>
        <th>% Asistencia</th>
        <th>PDF Individual</th>
        <th>GrÃ¡fica</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let e of estudiantes">
        <td>{{ e }}</td>
        <td *ngFor="let f of fechas">{{ tablaAsistencia[e]?.[f] || '-' }}</td>
        <td>{{ calcularPorcentaje(e) }}%</td>
        <td><button (click)="generarPDFIndividual(e)">ðŸ“„</button></td>
        <td>
          <canvas baseChart
                  [data]="obtenerDatosGrafica(e)"
                  [type]="'bar'"
                  [options]="{ responsive: true }">
          </canvas>
        </td>
      </tr>
    </tbody>
  </table>
</div>
